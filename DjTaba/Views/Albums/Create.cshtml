@model DjTaba.Models.Album

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm("Create",
                    "MarketerTutorials",
                    FormMethod.Post, new { enctype = "multipart/form-data" }))
{


    <div class="row">
        <div class="col-xs-12">
            <div class="box" style="height:auto">

                <div class="text-center text-blue" style="border-style:solid;">
                    <h2>Add Album</h2>
                </div>

                <div class="form-horizontal">

                    <hr />
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-horizontal">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", @style = "width:50%" } })
                                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.PublishedDate, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.PublishedDate, new { htmlAttributes = new { @class = "form-control", @style = "width:50%", @type = "date" } })
                                @Html.ValidationMessageFor(model => model.PublishedDate, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.PhotoCreator, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.PhotoCreator, new { htmlAttributes = new { @class = "form-control", @style = "width:50%" } })
                                @Html.ValidationMessageFor(model => model.PhotoCreator, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group" style="margin-right:-10px">
                            @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                <textarea class="form-control" name="Description" placeholder="Description" style="max-width:50%;max-height:200px">
                            </textarea>
                                @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group " style="margin-left:60px">
                            <div id="main-container">
                                <button type="button" style="height:20%;margin-left:15px;top:0;" class="btn btn-primary" data-toggle="modal" data-target="#ModalGenre"><i class="fa fa-language"></i> Select Genres  </button>
                            </div>
                        </div>
                        <div class="form-group " style="margin-left:60px">
                            <div id="main-container">
                                <button type="button" style="height:20%;margin-left:15px;top:0;" class="btn btn-primary" data-toggle="modal" data-target="#ModalArtist"><i class="fa fa-users"></i> Select Artists  </button>
                            </div>
                        </div>
                        <div class="form-group " style="margin-left:60px">
                            <div id="main-container">
                                <button type="button" style="height:20%;margin-left:15px;top:0;" class="btn btn-primary" data-toggle="modal" data-target="#ModalMusic"><i class="fa fa-music"></i> Select Musics  </button>
                            </div>
                        </div>


                        <div class="form-group " style="margin-left:60px">
                            <label for="exampleInputEmail1"> SelecAlbumCoverPicutre :</label>
                            <div id="main-container">
                                <input display="Album" id="PicutreAlbumUrl" name="PicutreAlbumUrl" class="TheFile" onchange="SetPictures('PicutreAlbumUrl','ImageAlbumUrl');" style="display:none" type="file" required>
                                <button type="button" style="height:20%;margin-left:15px;top:0;" class="btn btn-primary" onclick="PicutreAlbumUrl.click()"><i class="fa fa-photo"></i> Choose Picture  </button>
                                <div id="ImageAlbumUrl" style="width:400px;height:auto;margin-left:5px;margin-top:5px">
                                </div>
                            </div>
                        </div>
                        <div class="form-group" style="margin-left:60px;margin-top:10px">
                            <label for="exampleInputEmail1"> ChooseOtherPictures :</label>
                            <div id="main-container">
                                <input display="AlbumsFiles" id="AlbumsFiles" name="AlbumsFiles" class="AlbumsUrl" onchange="SetPictures('AlbumsFiles','AlbumsFilesItems');" style="display:none" multiple type="file">
                                <button type="button" style="height:20%;margin-left:15px;top:0;" class="btn btn-primary" onclick="AlbumsFiles.click()"><i class="fa fa-file-audio-o"></i>Choose</button>
                                <div id="AlbumsFilesItems" style="width:400px;height:auto;margin-left:5px;margin-top:10px">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>

    </div>
}
<div class="modal fade" id="ModalGenre" role="dialog" style="height:auto;overflow-y:visible">
    <div class="modal-dialog modal-sm" style="width:400px">
        <div class="modal-content">
            <div class="modal-header text-center">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Select Genres</h4>
            </div>
            <div class="modal-body text-center" style="height:auto;" id="listGenresModalBody">
                @*<div class="row" style="padding:10px;background-color:aquamarine;width:90%;margin:auto">
                    <p>
                        Metal
                        <input type="checkbox" />
                    </p>
                </div>*@
           

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">ok</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ModalArtist" role="dialog" style="height:auto;overflow-y:visible">
    <div class="modal-dialog modal-lg" style="width:400px">
        <div class="modal-content">
            <div class="modal-header text-center">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Select Artists</h4>
            </div>
            <div class="modal-body" style="height:auto">
                <table id="tableArtist" class="table table-hover text-center">
                    <tr>
                        <th>Row</th>
                        <th>Name </th>
                        <th>Select</th>

                    </tr>
        
                   
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">ok</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ModalMusic" role="dialog" style="height:auto;overflow-y:visible">
    <div class="modal-dialog modal-sm" style="width:400px">
        <div class="modal-content">
            <div class="modal-header text-center">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Select Muscis</h4>
            </div>
            <div class="modal-body" style="height:auto">
                <table id="tableMusic" class="table table-hover text-center">
                

                        <tr>
                            <th>Row</th>
                            <th>Name </th>
                            <th>Select</th>
                        </tr>
                    
               

                </table>
                <button onclick="sayhello(this.getAttribute('pageNumber'));"  id="MusicPre" pageNumber="" class="btn btn-default">

                    Previous
                </button>
                <button onclick="sayhello(this.getAttribute('pageNumber'));" id="MusicNext" pageNumber="" class="btn btn-default">

                    Next
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">ok</button>
                <button type="button" class="btn btn-success" onclick="showarray();">Check</button>

            </div>
        </div>
    </div>
</div>
<div class="row" style="margin-left : 10px">
    <a class="btn btn-warning" href="/Albums/Index"> Return</a>
    <input type="submit" value="Save" class="btn btn-success" />
</div>



<script>
        window.onload = Load;
	function Load() {
		FillModal();

	}

	function FillModal() {
		AjaxFillModal("../Albums/LoadGenres","listGenresModalBody", "row");
		AjaxFillModal("../Albums/LoadArtists", "tableArtist", "table");
		AjaxFillModal("../Albums/LoadMuscis" ,"tableMusic" , "table");
	}
	function sayhello(number) {
	
		
			$("#tableMusic  tr").each(function () {
				var rownumber = $(this).closest("tr").index();
				if (rownumber !== 0) {
               $(this).remove();

				}
				           
});
			AjaxFillModal("../Albums/LoadMuscis" ,"tableMusic" , "table" ,number );
			//$("#tableMusic").empty();	
	}

</script>